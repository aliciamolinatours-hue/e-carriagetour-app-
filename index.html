<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>E-Carriage Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="app-container">

<!-- HEADER FIJADO (con fecha abajo) -->
<header class="app-header">
  <div class="header-content">
    <div class="header-top">
      <h1 class="app-title">
        <img src="logo-e-carriage.png" 
             alt="E-Carriage Tour Logo" 
             class="app-logo">
        E-Carriage Tour
      </h1>
    </div>
    <div class="header-bottom">
      <span id="current-date-display" class="date-display"></span>
    </div>
  </div>
</header>

<!-- CONTENIDO PRINCIPAL -->
<main class="app-main">
  
  <!-- PANTALLA NUEVO VIAJE -->
  <div id="new-trip" class="screen active app-screen">
    <!-- ... (tu código existente se mantiene igual) ... -->
  </div>

  <!-- PANTALLA RESUMEN -->
  <div id="summary" class="screen app-screen">
    <div class="screen-header">
      <h2><i class="fas fa-chart-pie"></i> Resumen Diario</h2>
    </div>
    
    <!-- Selector de Periodo -->
    <div class="period-selector">
      <button id="today-btn" class="period-btn active">
        <i class="fas fa-calendar-day"></i>
        Hoy
      </button>
      <button id="yesterday-btn" class="period-btn">
        <i class="fas fa-calendar-minus"></i>
        Ayer
      </button>
      <button id="week-btn" class="period-btn">
        <i class="fas fa-calendar-week"></i>
        Semana
      </button>
    </div>

    <!-- Tarjetas de Resumen -->
    <div class="stats-cards">
      <div class="stat-card primary">
        <div class="stat-icon">
          <i class="fas fa-car-side"></i>
        </div>
        <div class="stat-info">
          <div class="stat-label">Total Viajes</div>
          <div id="total-all-trips" class="stat-value">0</div>
        </div>
      </div>

      <div class="stat-card success">
        <div class="stat-icon">
          <i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="stat-info">
          <div class="stat-label">Efectivo</div>
          <div id="cash-trips-count" class="stat-value">0</div>
          <div id="cash-trips-amount" class="stat-subvalue">0 €</div>
        </div>
      </div>

      <div class="stat-card info">
        <div class="stat-icon">
          <i class="fas fa-credit-card"></i>
        </div>
        <div class="stat-info">
          <div class="stat-label">Tarjeta</div>
          <div id="card-trips-count" class="stat-value">0</div>
          <div id="card-trips-amount" class="stat-subvalue">0 €</div>
        </div>
      </div>

      <div class="stat-card warning">
        <div class="stat-icon">
          <i class="fas fa-hand-holding-usd"></i>
        </div>
        <div class="stat-info">
          <div class="stat-label">Propinas</div>
          <div id="total-tips" class="stat-value">0 €</div>
          <div class="stat-subvalue" id="tips-breakdown-old"></div> <!-- ID CAMBIADO -->
        </div>
      </div>
    </div>

    <!-- Desglose Financiero ACTUALIZADO -->
    <div class="financial-breakdown">
      <h3><i class="fas fa-file-invoice-dollar"></i> Desglose Financiero - <span id="summary-period-title">Hoy</span></h3>
      
      <!-- Estadísticas Rápidas -->
      <div class="quick-stats">
        <div class="quick-stat">
          <div class="quick-stat-label">Viajes Totales</div>
          <div id="quick-total-trips" class="quick-stat-value">0</div> <!-- ID CAMBIADO -->
        </div>
        <div class="quick-stat">
          <div class="quick-stat-label">Total Recaudado</div>
          <div id="quick-total-amount" class="quick-stat-value">0 €</div> <!-- ID CAMBIADO -->
        </div>
      </div>
      
      <!-- Desglose Detallado -->
      <div class="breakdown-section cash-breakdown">
        <h4><i class="fas fa-money-bill-wave"></i> Efectivo</h4>
        <div class="breakdown-item">
          <span>Viajes en efectivo</span>
          <span id="cash-trips-breakdown">0 viajes × 70€ = 0€</span>
        </div>
        <div class="breakdown-item">
          <span>Propina en efectivo</span>
          <span id="cash-tips-breakdown">+ 0€</span>
        </div>
        <div class="breakdown-item total">
          <span><strong>Total efectivo recibido</strong></span>
          <span id="cash-total-received" class="amount-highlight">0€</span>
        </div>
      </div>
      
      <div class="breakdown-section card-breakdown">
        <h4><i class="fas fa-credit-card"></i> Tarjeta</h4>
        <div class="breakdown-item">
          <span>Viajes con tarjeta</span>
          <span id="card-trips-breakdown">0 viajes × 70€ = 0€</span>
        </div>
        <div class="breakdown-item">
          <span>Propina con tarjeta</span>
          <span id="card-tips-breakdown">+ 0€</span>
        </div>
        <div class="breakdown-item total">
          <span><strong>Total tarjeta recibido</strong></span>
          <span id="card-total-received" class="amount-highlight">0€</span>
        </div>
      </div>
      
      <!-- Resumen de Entrega -->
      <div class="delivery-summary">
        <h4><i class="fas fa-calculator"></i> Resumen de Entrega</h4>
        <div class="breakdown-item">
          <span>Efectivo recibido</span>
          <span id="cash-received-amount">0€</span>
        </div>
        <div class="breakdown-item">
          <span>(-) Propinas tarjeta (para ti)</span>
          <span id="card-tips-for-you" class="text-success">- 0€</span>
        </div>
        <div class="breakdown-divider"></div>
        <div class="breakdown-item final-amount">
          <span><strong>EFECTIVO A ENTREGAR</strong></span>
          <span id="cash-to-deliver-final" class="final-amount-value">0€</span>
        </div>
        <div class="delivery-explanation">
          <i class="fas fa-info-circle"></i>
          <strong>Fórmula:</strong> (Efectivo recibido) - (Propinas tarjeta) = Efectivo a entregar
        </div>
      </div>
    </div>
    
  </div> <!-- CIERRA #summary -->

  <!-- PANTALLA ESTADÍSTICAS -->
  <div id="stats" class="screen app-screen">
    <!-- ... (tu código existente se mantiene igual) ... -->
  </div>
  
</main>

<!-- NAVEGACIÓN INFERIOR (Tipo App) -->
<nav class="app-nav">
  <button class="nav-btn active" data-screen="new-trip">
    <i class="fas fa-plus-circle"></i>
    <span>Nuevo</span>
  </button>
  <button class="nav-btn" data-screen="summary">
    <i class="fas fa-chart-pie"></i>
    <span>Resumen</span>
  </button>
  <button class="nav-btn" data-screen="stats">
    <i class="fas fa-chart-line"></i>
    <span>Estadísticas</span>
  </button>
</nav>

<!-- NOTIFICACIONES -->
<div id="notification" class="notification"></div>

<script src="./app.js"></script>
</body>
</html>
