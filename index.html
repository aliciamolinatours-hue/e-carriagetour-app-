<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Registro de Viajes - Taxi Eléctrico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="header-main">
                    <h1><i class="fas fa-bolt"></i> Taxi Eléctrico</h1>
                    <div class="header-subtitle">
                        <span id="current-date"></span>
                        <span class="badge" id="trip-count">0 viajes hoy</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <main class="container">
        <!-- Pestaña de Viaje (visible por defecto) -->
        <div id="register-tab" class="tab-content active">
            <section class="form-section">
                <h2 class="section-title">
                    <i class="fas fa-plus-circle"></i>
                    <span>Nuevo Viaje</span>
                </h2>
                
                <div class="form-card">
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-users"></i>
                            <span>Pasajeros</span>
                        </label>
                        <div class="pax-buttons">
                            <button class="pax-btn" data-pax="1">1</button>
                            <button class="pax-btn" data-pax="2">2</button>
                            <button class="pax-btn" data-pax="3">3</button>
                            <button class="pax-btn" data-pax="4">4</button>
                            <button class="pax-btn" data-pax="5">5</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-globe-europe"></i>
                            <span>País</span>
                        </label>
                        <div class="country-input">
                            <input type="text" id="country" placeholder="Escribe el país...">
                            <div id="country-suggestions"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Método de Pago</span>
                        </label>
                        <div class="payment-buttons">
                            <button class="payment-btn cash" data-payment="cash">
                                <i class="fas fa-money-bill"></i>
                                <span>Efectivo</span>
                            </button>
                            <button class="payment-btn card" data-payment="card">
                                <i class="fas fa-credit-card"></i>
                                <span>Tarjeta</span>
                            </button>
                        </div>
                    </div>
                    
                    <div id="tip-section-cash" class="tip-section">
                        <label class="form-label">
                            <i class="fas fa-euro-sign"></i>
                            <span>Propina</span>
                        </label>
                        <div class="tip-buttons">
                            <button class="tip-btn" data-tip="0">0€</button>
                            <button class="tip-btn custom-tip-btn-open" data-tip="custom">
                                <i class="fas fa-edit"></i>
                                <span>Personalizar</span>
                            </button>
                        </div>
                        <div class="custom-tip" id="custom-tip-cash" style="display: none;">
                            <input type="number" id="custom-tip-input-cash" placeholder="Ej: 3.50" min="0" step="0.5">
                            <button class="custom-tip-btn" id="set-tip-cash">Aplicar</button>
                        </div>
                    </div>
                    
                    <div id="tip-section-card" class="tip-section">
                        <label class="form-label">
                            <i class="fas fa-euro-sign"></i>
                            <span>Propina</span>
                        </label>
                        <div class="tip-buttons">
                            <button class="tip-btn" data-tip="0">0€</button>
                            <button class="tip-btn" data-tip="7">7€</button>
                            <button class="tip-btn" data-tip="10.5">10.5€</button>
                            <button class="tip-btn" data-tip="14">14€</button>
                            <button class="tip-btn custom-tip-btn-open" data-tip="custom">
                                <i class="fas fa-edit"></i>
                                <span>Personalizar</span>
                            </button>
                        </div>
                        <div class="custom-tip" id="custom-tip-card" style="display: none;">
                            <input type="number" id="custom-tip-input-card" placeholder="Ej: 5.00" min="0" step="0.5">
                            <button class="custom-tip-btn" id="set-tip-card">Aplicar</button>
                        </div>
                    </div>
                    
                    <button id="save-trip" class="save-btn">
                        <i class="fas fa-check-circle"></i>
                        <span>Guardar Viaje</span>
                    </button>
                    
                    <div id="confirmation-message" class="confirmation-message">
                        <i class="fas fa-check"></i>
                        <span>Viaje guardado</span>
                    </div>
                </div>
            </section>
            
            <section class="trips-section">
                <h2 class="section-title">
                    <i class="fas fa-history"></i>
                    <span>Viajes de Hoy</span>
                </h2>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="total-trips">0</div>
                        <div class="stat-label">Total</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-pax">0</div>
                        <div class="stat-label">Pasajeros</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-tips">0€</div>
                        <div class="stat-label">Propinas</div>
                    </div>
                </div>
                
                <div class="trip-list">
                    <div id="trips-container">
                        <div class="empty-list" id="empty-list-message">
                            <i class="fas fa-car"></i>
                            <p>No hay viajes registrados hoy</p>
                            <small>Registra tu primer viaje arriba</small>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- FIN de la pestaña de Viaje -->
        
        <!-- INICIO de la pestaña de Resumen -->
        <div id="summary-tab" class="tab-content">
            <section class="summary-section">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i>
                    <span>Resumen del Día</span>
                </h2>
                
                <div class="summary-card">
                    <!-- Resumen General -->
                    <div class="summary-group">
                        <h3><i class="fas fa-calendar-day"></i> Hoy</h3>
                        <div class="summary-item">
                            <div class="summary-label">Total de viajes</div>
                            <div class="summary-value" id="total-trips-summary">0</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total pasajeros</div>
                            <div class="summary-value" id="total-pax-summary">0</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total propinas</div>
                            <div class="summary-value" id="total-tips-summary">0€</div>
                        </div>
                    </div>
                    
                    <!-- Ingresos en Efectivo -->
                    <div class="summary-group">
                        <h3><i class="fas fa-money-bill-wave"></i> Ingresos en Efectivo</h3>
                        <div class="summary-item">
                            <div class="summary-label">Viajes en efectivo</div>
                            <div class="summary-value" id="cash-trips">0</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total efectivo</div>
                            <div class="summary-value" id="total-cash">0€</div>
                        </div>
                        <div class="summary-item detail">
                            <div class="summary-detail" id="cash-detail">0 viajes × 0€ = 0€</div>
                        </div>
                    </div>
                    
                    <!-- Ingresos en Tarjeta -->
                    <div class="summary-group">
                        <h3><i class="fas fa-credit-card"></i> Ingresos en Tarjeta</h3>
                        <div class="summary-item">
                            <div class="summary-label">Viajes en tarjeta</div>
                            <div class="summary-value" id="card-trips">0</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Total tarjeta</div>
                            <div class="summary-value" id="total-card">0€</div>
                        </div>
                        <div class="summary-item detail">
                            <div class="summary-detail" id="card-detail">0 viajes × 0€ = 0€</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Propinas en tarjeta</div>
                            <div class="summary-value" id="card-tips">0€</div>
                        </div>
                    </div>
                    
                    <!-- Efectivo a entregar -->
                    <div class="summary-group highlight">
                        <h3><i class="fas fa-hand-holding-usd"></i> Efectivo a Entregar</h3>
                        <div class="summary-item large">
                            <div class="summary-label">Total efectivo - Propinas tarjeta</div>
                            <div class="summary-value total" id="cash-to-deliver">0€</div>
                        </div>
                        <div class="summary-item detail">
                            <div class="summary-detail" id="delivery-detail">0€ - 0€ = 0€</div>
                        </div>
                    </div>
                    
                    <!-- Botón Exportar -->
                    <div class="export-section">
                        <button id="export-month" class="export-btn">
                            <i class="fas fa-file-export"></i>
                            <span>Exportar Datos del Mes</span>
                        </button>
                        <div id="export-message" class="export-message">
                            <i class="fas fa-check"></i>
                            <span>Datos exportados</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Historial del mes (opcional) -->
            <section class="month-history-section">
                <h2 class="section-title">
                    <i class="fas fa-history"></i>
                    <span>Historial del Mes</span>
                </h2>
                <div class="month-stats">
                    <div class="month-stat">
                        <div class="month-stat-value" id="month-trips">0</div>
                        <div class="month-stat-label">Viajes este mes</div>
                    </div>
                    <div class="month-stat">
                        <div class="month-stat-value" id="month-earnings">0€</div>
                        <div class="month-stat-label">Ingresos totales</div>
                    </div>
                </div>
            </section>
        </div>
        <!-- FIN de la pestaña de Resumen -->
    </main>
    
    <!-- Navegación por pestañas en la parte inferior -->
    <nav class="bottom-tabs">
        <div class="tabs-container">
            <button class="bottom-tab active" data-tab="register">
                <i class="fas fa-car"></i>
                <span>Viaje</span>
            </button>
            <button class="bottom-tab" data-tab="summary">
                <i class="fas fa-chart-pie"></i>
                <span>Resumen</span>
            </button>
        </div>
    </nav>
    
    <footer>
        <div class="container">
            <p>Registro de viajes • Taxi eléctrico</p>
            <small>Datos guardados localmente en tu dispositivo</small>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
